"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{92486:function(C,d,e){e.d(d,{C5:function(){return E},_V:function(){return m},gp:function(){return i}});var c=e(33950),s=c.Z.create({baseURL:"/api"});function E(o){return s.get("/getInfo",{params:o})}function i(o){return s.get("/list",{params:o})}function m(){return s.get("/getStockList")}},46689:function(C,d,e){e.r(d),e.d(d,{default:function(){return S}});var c=e(90228),s=e.n(c),E=e(87999),i=e.n(E),m=e(48305),o=e.n(m),P=e(46761),L=e(58484),j=e(16315),v=e(85168),R=e(94873),B=e(80494),T=e(92730),A=e(58884),f=e(92486),l=e(75271),r=e(52676);function S(){var b=(0,l.useState)([]),O=o()(b,2),U=O[0],D=O[1],y=(0,l.useState)(!1),M=o()(y,2),K=M[0],h=M[1],W=function(){var a=i()(s()().mark(function n(){var _;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return p||P.ZP.error("\u7F16\u7801\u5FC5\u586B"),h(!0),t.prev=2,t.next=5,(0,f.C5)({code:p});case 5:_=t.sent,D(_.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),P.ZP.error("\u67E5\u8BE2\u9519\u8BEF\uFF0C\u8BF7\u6B63\u786E\u8F93\u5165\u7F16\u7801");case 12:return t.prev=12,h(!1),t.finish(12);case 15:case"end":return t.stop()}},n,null,[[2,9,12,15]])}));return function(){return a.apply(this,arguments)}}(),Z=(0,l.useState)(""),I=o()(Z,2),p=I[0],x=I[1],G=[{title:"\u80A1\u7968",dataIndex:"name"},{title:"\u6628\u65E5\u503C",dataIndex:"yestclose"},{title:"\u5F53\u524D\u503C",dataIndex:"price",render:function(n){return(0,r.jsx)("span",{style:{color:"red"},children:n})}},{title:"\u6DA8\u5E45",dataIndex:"rate",render:function(n,_){return(0,r.jsx)("span",{style:{color:_.price>_.yestclose?"red":"green"},children:(_.price/_.yestclose-1).toFixed(2)})}},{title:"\u6210\u4EA4\u989D(\u4E07)",dataIndex:"amount"},{title:"\u65E5\u671F",dataIndex:"date"}],V=function(){var a=i()(s()().mark(function n(){var _;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.gp)();case 2:_=t.sent,console.log(_),D(_.data);case 5:case"end":return t.stop()}},n)}));return function(){return a.apply(this,arguments)}}(),F=(0,l.useState)(JSON.parse(localStorage.getItem("list")||"[]")),g=o()(F,2),u=g[0],N=g[1];return(0,l.useEffect)(function(){u!=null&&u.length||(0,f._V)().then(function(a){N(a.data),localStorage.setItem("list",JSON.stringify(a.data))})},[u]),(0,r.jsxs)(L.Z,{title:"\u6570\u636E\u67E5\u8BE2",style:{width:880},children:[(0,r.jsxs)(j.Z,{gutter:16,style:{marginBottom:16},children:[(0,r.jsx)(v.Z,{span:16,children:(0,r.jsx)(R.Z,{placeholder:"\u8BF7\u8F93\u5165\u7F16\u7801",style:{width:"100%"},onChange:function(n){return x(n)},showSearch:!0,fieldNames:{label:"name",value:"value"},options:u,optionRender:function(n){return"".concat(n.label,"(").concat(n.value,")")},allowClear:!0})}),(0,r.jsx)(v.Z,{span:8,children:(0,r.jsx)(B.ZP,{type:"primary",onClick:W,disabled:!p,style:{width:"100%"},children:"\u67E5\u8BE2"})})]}),(0,r.jsx)(T.Z,{spinning:K,children:(0,r.jsx)(A.Z,{columns:G,dataSource:U})})]})}}}]);
